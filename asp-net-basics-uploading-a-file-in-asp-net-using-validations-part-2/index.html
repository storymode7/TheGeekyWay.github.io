<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">
  <script src="http://cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="stylesheet" type="text/css" href="/theme/css/style.css">
  <link rel="stylesheet" type="text/css" href="/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=PT+Sans|PT+Serif|PT+Mono">

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="The Geeky Way">
  <meta name="description" content="Posts and writings by The Geeky Way">

  <link href="thegeekyway.com/feed/all.atom.xml" type="application/atom+xml" rel="alternate" title="The Geeky Way - Techonology Inside Out Atom" />
  <link href="thegeekyway.com/feed/index.html" type="application/rss+xml" rel="alternate" title="The Geeky Way - Techonology Inside Out RSS" />

<meta name="keywords" content="asp.net, C#">

  <title>
    The Geeky Way - Techonology Inside Out
&ndash; Asp.net Basics : Uploading a file in asp.net using validations (Part 2 of 5)  </title>

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-46055942-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
</head>

<body>
  <aside>
    <div id="user_meta">
      <a href="/">
        <img src="/uploads/images/tgw.png" alt="logo">
      </a>
      <h2><a href="/">The Geeky Way</a></h2>
      <p></p>
      <ul>
        <li><a href="/categories.html" target="_blank">Categories</a></li>
        <li><a href="/tags.html" target="_blank">Tags</a></li>
        <li><a href="/archives.html" target="_blank">Archives</a></li>
        <li><a href="/about-us/" target="_blank">About us</a></li>
        <li><a href="/authors.html" target="_blank">Authors</a></li>
        <hr>
        <p><b>Social Media</b></p>
        <a href="https://www.twitter.com/thegeekyway" target="_blank">
          <img src="/icons/twitter.png" style="width:25px;height:25px;border:0;">
        </a>
        <a href="https://www.facebook.com/thegeekyway" target="_blank">
          <img src="/icons/facebook.png" style="width:25px;height:25px;border:0;">
        </a>
      </ul>
    </div>
  </aside>

  <main>
    <header>
      <p>
      Technology Inside Out!
      <br><br>
      <a href="/">Index</a> &brvbar; <a href="/archives.html">Archives</a>
      &brvbar; <a href="thegeekyway.com/feed/all.atom.xml">Atom</a>
      &brvbar; <a href="thegeekyway.com/feed/">RSS</a>
      </p>
    </header>

<article>
  <div class="article_title">
    <h1><a href="/asp-net-basics-uploading-a-file-in-asp-net-using-validations-part-2/">Asp.net Basics : Uploading a file in asp.net using validations (Part 2 of 5)</a></h1>
  </div>
  <div class="article_author">
    <p><strong>By: <a href=/author/Deep_Singh.html>Deep_Singh</a></strong></p>
  </div>
  <div class="article_text">
    <p><center>
<u>This is a part 2 of the 5 part tutorial.</u><br>
If you are visiting this page for the first time then you must visit part 1 of the tutorial<br>
on how to upload a file on server <a href="http://www.thegeekyway.com/uploading-a-file-in-asp-part-1/">here</a>
</center></p>
<p>Contents of this 5 part tutorial<br>
Part 1 : <a href="http://www.thegeekyway.com/uploading-a-file-in-asp-part-1/">Basics of ASP.Net file uploading, uploading a file to a server.</a><br>
Part 2 : <a href="http://www.thegeekyway.com/asp-net-basics-uploading-a-file-in-asp-net-using-validations-part-2/">ASP.Net file uploading using EmptyFile Validations.</a><br>
Part 3 : <a href="http://www.thegeekyway.com/asp-net-basics-uploading-a-file-in-asp-net-using-validations-part-3/">ASP.Net file uploading using FileSize validation.</a><br>
Part 4 : <a href="http://www.thegeekyway.com/asp-net-basics-uploading-a-file-in-asp-net-using-validations-part-4/">ASP.Net file uploading using FileExtension validator.</a><br>
Part 5 : <a href="http://www.thegeekyway.com/asp-net-basics-uploading-file-asp-net-using-validations-part-5/">Complete ASP.Net file uploading using all the Validations one at a time.</a></p>
<div style="text-align:center">
<p><a href="thegeekyway.com/uploads/images/2014/01/CoverImageASPNetFileUploadPart2.png"><img alt="CoverImageASPNetFileUploadPart2" src="thegeekyway.com/uploads/images/2014/01/CoverImageASPNetFileUploadPart2.png"></a></p>
</div>
<h2><strong><em>*File Upload in asp.net : v1.1 (Empty File Validation)</em></strong>*</h2>
<p>The first validation used is the empty file validation, what if the user doesn't upload a file and simply pres the upload button, here is the output if the user presses only the upload button. Then an exception error will be generated on the server side.</p>
<p>Now since in <a href="http://www.thegeekyway.com/uploading-a-file-in-asp-part-1/">tutorial 1</a> we discussed on how to upload file to server without any validations now we are using our first validation <strong>Empty File Validation</strong> it checks whether the user has selected the file or not in file control panel or if the user has directly clicked the upload button without selecting the file. If the user has directly clicked the upload button then an exception <strong>System.IO.DirectoryNotFoundException</strong> will be generated.</p>
<p>Here is the image below showing the details of the exception.</p>
<div style="text-align:center">
<p><a href="thegeekyway.com/uploads/images/2014/01/DirectoryNotFoundException.png"><img alt="DirectoryNotFoundException" src="thegeekyway.com/uploads/images/2014/01/DirectoryNotFoundException.png"></a> <p style="text-decoration: underline; color: #000000;">2 ways of handling this exception</p></p>
</div>
<hr>
<h3>1. Using try-catch mechanism</h3>
<p>Now since DirectoryNotFound Expression is thrown by the server then it can be caught by the try-catch mechanism.<br>
The <a href="http://www.thegeekyway.com/category/programming/c-programming-2/">C#</a> code for method 1 (try-catch) is :-</p>
<div class="highlight"><pre><span></span>private void isFileEmpty()
    {
        Panel1.Visible = true;
        try
        {
            Image1.ImageUrl = &quot;~//images//success.png&quot;;
            File_Upload_Status.Text = &quot;Everything OK! File Uploaded&quot;;
            File_Upload_Status.ForeColor = Color.Green;
           //Provide the C# code for uploading the file which was discussed in part 1 of this tutorial
        }
        catch (DirectoryNotFoundException dnfe)
        {

            string _substring = dnfe.ToString();
            Image1.ImageUrl = &quot;~//images//not_success.png&quot;;
            File_Upload_Status.Text = _substring.Substring(0, 72) + &quot;. Please upload a valid file.&quot;;
            File_Upload_Status.ForeColor = Color.Red;
        }
</pre></div>


<p>The output of the above code will be following images</p>
<p><strong>Image 1 :</strong> The interface for the upload mechanism<br>
<strong>Image 2 :</strong> Clicking the upload button when no file is selected.<br>
<strong>Image 3 :</strong> Clicking the upload button when a file is selected and uploaded.</p>
<div style="text-align:center">
<p><a href="thegeekyway.com/uploads/images/2014/01/FileUploadTut2-1.png"><img alt="FileUploadTut2-1" src="thegeekyway.com/uploads/images/2014/01/FileUploadTut2-1.png"></a></p>
</div>
<div style="text-align:center">
<p><a href="thegeekyway.com/uploads/images/2014/01/FileUploadTut2-3.png"><img alt="FileUploadTut2-2" src="thegeekyway.com/uploads/images/2014/01/FileUploadTut2-2.png"></a></p>
</div>
<div style="text-align:center">
<p><a href="thegeekyway.com/uploads/images/2014/01/FileUploadTut2-3.png"><img alt="FileUploadTut2-3" src="thegeekyway.com/uploads/images/2014/01/FileUploadTut2-3.png"></a></p>
</div>
<h3>2. Using Boolean property "HasFile"</h3>
<p>Another way of handling this exception is by using the Boolean property "HasFile" which will return the value as true or false. If the value returned is false then you can return the error message else it can continue with the uploading of file.<br>
The <a href="http://www.thegeekyway.com/category/programming/c-programming-2/">C#</a> code for method 2 (Boolean method) is :-</p>
<div class="highlight"><pre><span></span>private void isFileEmpty()
    {
        Panel1.Visible = true;
        if(FileUpload1.HasFile)
        {
            Image1.ImageUrl = &quot;~//images//success.png&quot;;
            File_Upload_Status.Text = &quot;Everything OK! File Uploaded&quot;;
            File_Upload_Status.ForeColor = Color.Green;
            //Provide the C# code for uploading the file which was discussed in part 1 of this tutorial
        }
        else
        {
            Image1.ImageUrl = &quot;~//images//not_success.png&quot;;
            File_Upload_Status.Text =&quot;Please upload a valid file.&quot;;
            File_Upload_Status.ForeColor = Color.Red;
        }
    }
</pre></div>


<div style="text-align:center">
<p><a href="thegeekyway.com/uploads/images/2014/01/FileUploadTut2.2-1.png"><img alt="FileUploadTut2.2-1" src="thegeekyway.com/uploads/images/2014/01/FileUploadTut2.2-1.png"></a></p>
</div>
<p>Thats all for the empty file validations property. In the next part of our tutorial we'll discuss about the SizeValidation( Limiting the size of upload on the server).</p>
<hr>
  </div>
  <div class="article_meta">
    <p>Posted on: Sat 04 January 2014</p>
    <p>Category: <a href="/category/aspnet-dot-net.html">Asp.net (Dot Net)</a>
 &ndash; Tags:
      <a href="/tag/aspnet.html">asp.net</a>,      <a href="/tag/c.html">C#</a>    </p>
  </div>

  <div id="article_comments">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_identifier = "asp-net-basics-uploading-a-file-in-asp-net-using-validations-part-2/";
        (function() {
             var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
             dsq.src = '//thegeekyway.com.disqus.com/embed.js';
             (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
         })();
    </script>
  </div>

</article>


    <div id="ending_message">
      <p>&copy; The Geeky Way. Built using <a href="http://getpelican.com" target="_blank">Pelican</a>. Theme by Giulio Fidente on <a href="https://github.com/gfidente/pelican-svbhack" target="_blank">github</a>. </p>
      <a href="/disclaimer/">Disclaimer</a> 
      <a href="/privacy-policy/">Privacy policy</a>
    </div>
  </main>
</body>
</html>